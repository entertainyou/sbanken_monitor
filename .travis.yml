language: elixir
elixir:
- 1.7.2
otp_release:
- 21.1.3
cache:
  directories:
  - _build
  - deps
script:
- mix format --check-formatted
- mix test
- mix credo
- MIX_ENV=prod mix release --quiet
before_deploy:
- openssl aes-256-cbc -K $encrypted_a77158a5a442_key -iv $encrypted_a77158a5a442_iv
  -in travis_rsa.enc -out /tmp/travis_rsa -d
- chmod 600 /tmp/travis_rsa
deploy:
  skip_cleanup: true
  provider: script
  script: bash scripts/deploy.sh
  on:
    branch: master
env:
  global:
  - secure: x6miQ6Y9dJTcHWPD+0XaDngXjISK+UZYl690/q3C3K1QdImkoCqhVuHIRuBQ5Ws+22C5bUdQQjLE5FpQS5LSJ712DZRlWEjeIkp6Dow576i/B+LZpntUf/9KOFXiA2La7P9lKBQqnAYRcfdWRcc5fz63uEya0Vs7FENPBH6Ag47uZ6v3ck9lD//bz+hd1ePpfHGPJS17BsHQCBHz/kti7ICUKVdOOeJUAdv8QRP9V+94y8c2uDglCgdnZldZ+KbrE/Q/GO7ChC9t0q6aY6wDYF9ZSRONlR4cdr+nJ9sJcdA46m7EKthAWvvO7gqhKV+oupMZBR299rPf4Rn5qWP6bljUBHSOjy/a7Xf18qtYHQ7SSi2O+n9TZ1/ZY7nomBqseWJUplR+YKENS8VN5MN/4NJW7K5ShyBtUOgXXdr/Y/QgFaLxkVD1NIIRGpZu/hIxthXeDoo9W7STqJp0Sasz7J62Lq+a374HlkJfPICoM4MgEH51HJzFCkqNEvBVOGix20hnk16wvKt4H1hLAg6J/VYIXIpCkVh0XPvat9JzFartc1fQcZMq1Kt/EEnAtOGWqMTs2amXzULu0XoCrO8XkLSqJmXhyRFLuWkndGmChJggsJheuicN676uztWI5XtZsOKqLCjPoS3Vz1+49EovYLOSThpqT7+ClaiorSibl5o=
  - secure: Yaq0jcRXu+jXZsJS24s/mxpHR9N2FVcdjwuCxx7XhMGclqTVeeVI5PlK1JngXXbRzPJfzsfIrSQUK8inWj2FJ7l7CBHGmrV11orLCih9OD3wCGcrhHc/Bg1Yv+3GRlq+L0w5trme0Kh3ZLb8zY6jTUZ0Fguekh7zCW4l9ddsaOssANIoP3BBB9BSW1Myup9TLnQ6lsOs4M0Q43QJwXW7UrnVna3HX9oEf7ooKsyGehvYqpyTVgik+IWdhA+HQdbYElXqIgyAUJXnyvxff+0BZvpgR2kv5nJj5sVZvJnM1RCCPe07xjIfDOdC6U+62Gw2TF4W+L80/IaYCTO/yHQBO0emBN/fozxVvOGXWh911t0ltyb+mw5JTUqkLC2tFvolH08rd41cLQr89+u+cKTtQ7Aabp0ypGUemtRJBMeWXpCOHjzMzzsQiJ1BwL+mqD2IrNQw3SV8XzToNC0SkqNgv4zdxR1X2WQjGskZbMMgrnUlEQyyMzELfyeSxxDW7Jj3Tzx6CQSccPK5PF5GsdV8cum/UYbTqr1hTHCYR6AOSGVPAlJvDzvct/Ory8VmrbjmyaPPfIfhngJXJ+4FKV3NvCAxqzk5hCCpYnkVw4ILCbJsFHF/3uY/IAjPjMnjrIgAkOC82QU3VMgzjBFk5cwOFHytFBB51xJhEQbJaHVAlzs=
  - secure: CueSoRJgKYYfoiVsUYEjQ4jHj/tQ3fIqPkJPBpOUBz9C2I8qbKcEWfDxhjkNky+tfkLzbUvNm5x4OI/+nqc6YIkSJddAMh+NWKUXhqV8ZH/WEUZ4WWpgph/ugjP4b0V3PIazt+BVACgN8QreznEbueAxR2zXMBzEtVQjoE+xtHyhEyyw2iOYAHFO5ByEelwKuF/Ueik0K1JAAflxRbBbXpBANJOor3a/CAbX+LfdRbwGjDvdw9daQ9qu74B7AF9uxkE9gtTN/Jn/St+towrlnBCVNs5iraNovYQ48As6/vSHy33h7FspV1r62WJmZ5CVmzK1L7t+oKN6+wAQi0NMukrvyCPC9Dea/vf/q22nnudhL7nFu6c1PSZoF92Pvv1eC3kYy6jq0b/yVljTIUqjwFawvEZ/ZnaNnfVGpKOCBzE/F4YIO/QCOJR1Gn1nbDqrylssLSPAcEHxF5WY2b7tIQAwfHtbef30S81VUQoxPJ+o7mC3w4SShMvZPKThvvfVfMi3dO5oPfs0rDfUCerRQYyp81GXXVwKLz28WQugDxqLb1xa1osy7AHQoJi7XRwPbuC0mBBwWV2bNjmgHwh4swI/t5zDjTcFs2r0G21c+yCrkr83VP7ryEwZEKWK6Dmh7ln13+UWviP6kYOYB29YE5858O8vuZTCk+SIlJu+QJE=
  - secure: qFE0RtyQhZGN7Qe40tT7JkziYYmpJ6/ecjMnecBFGpv2F0VND4j6ADvLPzANrdHr7A30d55XocCMUjhmPAKIn81DkQMr4bbd/Zm7E2DXVJyuCc62Gv68/7W+o1X65p1C+jMMrdqgSBNHxmgsWZTZ0L/pv3u3CbRA3YnUfNmFscw09kNXxHvMGMko1xYgLc3IgZ0xlor9stnFJWAxFLB6Wbk+brxZdmef97J6lvrmdPgnxCl0lfXafcM/he/ET9GyjWbvx/XkY1BHd68pr+y8rZXeQJPfUxTH8jae+zX3i3SgRVgY5UPufZF8XPlIZMJYVaAEwjAkfShX0efSPeUZcQr5hz86zHo4C6YS6zUqeUkek/3qDSDddI1cZRuR5HXTSSXxMkmhW4zyNSTlbcoEuxPTu+MnTfK9pbJgL/nzCHkSUJW1YA42HpJSEqMvaCSagJIGARaNmB/9+XNUscbqPLf6xFhgudbuJzeXsvOhLTFIi0zAbS+XIDQwhnSq/yCqk3iSfaN33fU6n/3EfaLj/elVZ6k9qsiKxQjohhi8ONPuao/BYTvWvCi4B/5X/anAttDR1tIb61GDq2QoQGTjpYfPVg6iDutZoKrYhJEDg30VTns7yE11kyxW+QQx8Wb7OqAoFIU9SyF0y8zxyiK99XMvCImQIHx9K2O+eC1qIHg=
  - secure: dyaHoAn0Z3djd5Vf6YaHSqDUR2hL51ZZ6mvE4Jvd6rjxMWkzisXvw/62nMGAnu7XAixQ7yF3SxogNDlQLsxLYOOkyfDDPm/cSTQMlNA+3+LPfz2eYlpM1R1haGLAZL/xFioianDC3IlDLfWX9pZwuPZCUwOVRSIkROCL48vBZtjlw368CWw3bq2bknPZHogrgeKj+0wfeP2rEGRR0cGwfVpISHj73UpCeGG46P1YNioo078Rx8BbxXKh3SID+YnJZvsUA4jbWJ6Y0k45q1FOue79YEu9JYYX+RFFryH4bEr7NmbLYhkv4xzLLzZtNCwMRuuoa+AwXGI6143YMApQ/Hy4Ma4GNBHOpKF/UBYzyKvNene27DgvlCSAJ7Z3DoMsxjpIBex0YaqXAzAo6T/beHsj437PQmWFds46GiTI5ehJ3CTXFrOkJF9Y/4pJSuTNhRb7jDu/vuR0uQ13k4uTo8De40mUVruT+L7B1lDkTrktH2ttaOT7iZosT73kE2Q9bWp8GfiiFwlzOIFpWzLdqvu+CwZ6H37YbKfUGLuoF4TgR1Vsz6GfttlKRyrR1iNOVgcx01euF9juANpSshAHk6lCTEPQC9nRf9VjEwWxAhk3zoq5tGr89N0fNX6CYX73lBL5MUlgKQg1d4j8+iqUecLz3D68mDaGc9TvJOeJWyE=
